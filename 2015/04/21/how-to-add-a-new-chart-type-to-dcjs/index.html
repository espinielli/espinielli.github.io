<!DOCTYPE html>
<html lang="en-us">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="theme" content="hugo-academic">
  <meta name="generator" content="Hugo 0.31.1" />
  <meta name="author" content="Enrico Spinielli">
  <meta name="description" content="Curious geek">

  
  
  
    
  
  
    
    
    <link rel="stylesheet" href="/css/highlight.min.css">
    
  
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha512-6MXa8B6uaO18Hid6blRMetEIoPqHf7Ux1tnyIQdpt9qI5OACx7C+O3IVTr98vwGnlcg0LOLa02i9Y1HpVhlfiw==" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.0/css/academicons.min.css" integrity="sha512-GGGNUPDhnG8LEAEDsjqYIQns+Gu8RBs4j5XGlxl7UfRaZBhCCm5jenJkeJL8uPuOXGqgl8/H1gjlWQDRjd3cUQ==" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha512-SfTiTlX6kk+qitfevl/7LibUOeJWlt9rbyDn92a1DqWOw9vWG2MFoays0sgObmWazO5BQPiFucnnEAjpAB+/Sw==" crossorigin="anonymous">
  
  
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:400,700%7CMerriweather%7CRoboto+Mono">
  <link rel="stylesheet" href="/css/hugo-academic.css">
  

  
    <script>
      window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
      ga('create', 'UA-56589946-1', 'auto');
      ga('require', 'eventTracker');
      ga('require', 'outboundLinkTracker');
      ga('require', 'urlChangeTracker');
      ga('send', 'pageview');
    </script>
    <script async src="//www.google-analytics.com/analytics.js"></script>
    
    <script async src="https://cdnjs.cloudflare.com/ajax/libs/autotrack/2.4.1/autotrack.js" integrity="sha512-HUmooslVKj4m6OBu0OgzjXXr+QuFYy/k7eLI5jdeEy/F4RSgMn6XRWRGkFi5IFaFgy7uFTkegp3Z0XnJf3Jq+g==" crossorigin="anonymous"></script>
    
  

  <link rel="alternate" href="/index.xml" type="application/rss+xml" title="Enrico&#39;s Blog">
  <link rel="feed" href="/index.xml" type="application/rss+xml" title="Enrico&#39;s Blog">

  <link rel="icon" type="image/png" href="/img/icon.png">
  <link rel="apple-touch-icon" type="image/png" href="/img/apple-touch-icon.png">

  <link rel="canonical" href="/2015/04/21/how-to-add-a-new-chart-type-to-dcjs/">

  

  <title>How to add a new chart type to dc.js | Enrico&#39;s Blog</title>

</head>
<body id="top" data-spy="scroll" data-target="#navbar-main" data-offset="71">

<nav class="navbar navbar-default navbar-fixed-top" id="navbar-main">
  <div class="container">

    
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
              data-target=".navbar-collapse" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/">Enrico&#39;s Blog</a>
    </div>

    
    <div class="collapse navbar-collapse">

      
      <ul class="nav navbar-nav navbar-right">
        

        

        <li class="nav-item">
          <a href="/#about">
            
            <span>Home</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/#posts">
            
            <span>Posts</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/#projects">
            
            <span>Projects</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/#inspirations">
            
            <span>Inspirations</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/#contact">
            
            <span>Contact</span>
          </a>
        </li>

        
        

        
      </ul>

    </div>
  </div>
</nav>


<article class="article" itemscope itemtype="http://schema.org/Article">

  


  <div class="article-container">
    <h1 itemprop="name">How to add a new chart type to dc.js</h1>
    

<div class="article-metadata">

  <span class="article-date">
    <time datetime="2015-04-21 17:56:42 &#43;0000 UTC" itemprop="datePublished">
      2015 April 21
    </time>
  </span>

  

  
  
  
  <span class="article-tags">
    <i class="fa fa-tags"></i>
    
    <a href="/tags/dc.js">dc.js</a
    >, 
    
    <a href="/tags/d3.js">d3.js</a
    >, 
    
    <a href="/tags/dataviz">dataviz</a
    >, 
    
    <a href="/tags/bullet-chart">bullet-chart</a
    >, 
    
    <a href="/tags/javascript">javascript</a
    >
    
  </span>
  
  

  
  
<div class="share-box" aria-hidden="true">
  <ul class="share">
    <li>
      <a class="facebook"
         href="https://www.facebook.com/sharer.php?u=%2f2015%2f04%2f21%2fhow-to-add-a-new-chart-type-to-dcjs%2f"
         target="_blank">
        <i class="fa fa-facebook"></i>
      </a>
    </li>
    <li>
      <a class="twitter"
         href="https://twitter.com/intent/tweet?text=How%20to%20add%20a%20new%20chart%20type%20to%20dc.js&amp;url=%2f2015%2f04%2f21%2fhow-to-add-a-new-chart-type-to-dcjs%2f"
         target="_blank">
        <i class="fa fa-twitter"></i>
      </a>
    </li>
    <li>
      <a class="linkedin"
         href="https://www.linkedin.com/shareArticle?mini=true&amp;url=%2f2015%2f04%2f21%2fhow-to-add-a-new-chart-type-to-dcjs%2f&amp;title=How%20to%20add%20a%20new%20chart%20type%20to%20dc.js"
         target="_blank">
        <i class="fa fa-linkedin"></i>
      </a>
    </li>
    <li>
      <a class="weibo"
         href="http://service.weibo.com/share/share.php?url=%2f2015%2f04%2f21%2fhow-to-add-a-new-chart-type-to-dcjs%2f&amp;title=How%20to%20add%20a%20new%20chart%20type%20to%20dc.js"
         target="_blank">
        <i class="fa fa-weibo"></i>
      </a>
    </li>
    <li>
      <a class="email"
         href="mailto:?subject=How%20to%20add%20a%20new%20chart%20type%20to%20dc.js&amp;body=%2f2015%2f04%2f21%2fhow-to-add-a-new-chart-type-to-dcjs%2f">
        <i class="fa fa-envelope"></i>
      </a>
    </li>
  </ul>
</div>


  

</div>

    <div class="article-style" itemprop="articleBody">
      

<p>This is a step by step description of how I extended dc.js with a new chart type. It is inspired by a <a href="https://github.com/loganalysis/analytics/wiki/Adding-a-new-chart" target="_blank">wiki page</a> by <a href="http://www.thomas-robert.fr/en/" target="_blank">Thomas Robert</a>.</p>

<h2 id="a-bullet-chart">A Bullet chart</h2>

<p><a href="http://bost.ocks.org/mike/" target="_blank">Mike Bostock</a> already implemented a <a href="http://bl.ocks.org/mbostock/4061961" target="_blank">bullet chart</a> in <a href="http://d3js.org" target="_blank">D3.js</a>. The <a href="http://bl.ocks.org/jasondavies/5452290" target="_blank">vertical version</a> from <a href="http://www.jasondavies.com/" target="_blank">Jason Davies</a> uses the official code which is available as a <a href="https://github.com/d3/d3-plugins/tree/master/bullet" target="_blank">d3-plugin</a>. (I have submitted a <a href="https://github.com/d3/d3-plugins/issues/130" target="_blank">proposal for a bug fix</a> and will use it instead.)</p>

<p>So how can I make it available in <a href="http://dc-js.github.io/dc.js/" target="_blank">dc.js</a>?</p>

<p><br>
<br>
Below you can see what I did and <a href="https://bl.ocks.org/espinielli/e7625ce617e4d9c87cae" target="_blank">here</a> what is still in the todo list.</p>

<iframe src="https://cdn.rawgit.com/espinielli/e7625ce617e4d9c87cae/raw/af63bae2ab20491d80006e6616d1dbde4747b1d5/index.html" marginwidth="0" marginheight="0" scrolling="no" width="100%"></iframe>

<p>The result is not too bad.</p>

<h2 id="scaffolding">Scaffolding</h2>

<p>Starting from <code>dc.js</code> directory</p>

<ul>
<li>add a file named <code>src\bullet-chart.js</code></li>
<li>copy <code>bullet.js</code> (with the fix proposed <a href="https://github.com/d3/d3-plugins/issues/130" target="_blank">here</a>)
from the <a href="https://github.com/d3/d3-plugins/tree/master/bullet" target="_blank">d3-plugin</a> to in <code>src\d3.bullet.js</code></li>
<li>add the two files above in the <code>module.exports.jsFiles</code> array in `Gruntfile.js
<br /></li>
</ul>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">    <span style="color:#a6e22e">module</span>.<span style="color:#a6e22e">exports</span>.<span style="color:#a6e22e">jsFiles</span> <span style="color:#f92672">=</span> [
      ...
      <span style="color:#e6db74">&#39;src/d3.bullet.js&#39;</span>,
      <span style="color:#e6db74">&#39;src/bullet-chart.js&#39;</span>,
      <span style="color:#e6db74">&#39;src/footer.js&#39;</span>  <span style="color:#75715e">// NOTE: keep this last
</span><span style="color:#75715e"></span>    ];
  </code></pre></div>

<ul>
<li>add the example file <code>examples\web\bullet.html</code>, a copy of <code>ord.html</code>
for example, and update <code>examples\web\index.html</code> accordingly</li>
</ul>

<h2 id="stub-your-chart">Stub your chart</h2>

<p><code>bullet-chart.js</code> can initially be something like</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">	<span style="color:#75715e">/**
</span><span style="color:#75715e">	## Bullet Chart
</span><span style="color:#75715e">	Includes: [Margin Mixin](#margin-mixin), [Color Mixin](#color-mixin),
</span><span style="color:#75715e">	          [Base Mixin](#base-mixin)
</span><span style="color:#75715e">	
</span><span style="color:#75715e">	Bullet chart implementation.
</span><span style="color:#75715e">	#### dc.bulletChart(parent[, chartGroup])
</span><span style="color:#75715e">	Create a bullet chart instance and attach it to the given parent element.
</span><span style="color:#75715e">	
</span><span style="color:#75715e">	#### Example of usage
</span><span style="color:#75715e">	
</span><span style="color:#75715e">	```javascript
</span><span style="color:#75715e">	var chart = dc.bulletCloudChart()
</span><span style="color:#75715e">	 .dimension(department)
</span><span style="color:#75715e">	 .group(salesPerDepartment)
</span><span style="color:#75715e">	 .colors(d3.scale.quantize().range([&#34;#E2F2FF&#34;, &#34;#C4E4FF&#34;, &#34;#9ED2FF&#34;, 
</span><span style="color:#75715e">	 &#34;#81C5FF&#34;, &#34;#6BBAFF&#34;, &#34;#51AEFF&#34;,  &#34;#36A2FF&#34;, &#34;#1E96FF&#34;, &#34;#0089FF&#34;, &#34;#0061B5&#34;]))
</span><span style="color:#75715e">	 .colorDomain([0, 200])
</span><span style="color:#75715e">	 .label(function (d) { return labels[d.key]; })
</span><span style="color:#75715e">	 .title(function (d) { return d.value+&#34; $&#34;; })
</span><span style="color:#75715e">    ```
</span><span style="color:#75715e">	
</span><span style="color:#75715e">	
</span><span style="color:#75715e">	Parameters:
</span><span style="color:#75715e">	
</span><span style="color:#75715e">	* parent : string | node | selection - any valid
</span><span style="color:#75715e">	[d3 single selector](https://github.com/mbostock/d3/wiki/Selections#selecting-elements)
</span><span style="color:#75715e">	specifying a dom block element such as a div; or a dom element or d3 selection.
</span><span style="color:#75715e">	
</span><span style="color:#75715e">	* chartGroup : string (optional) - name of the chart group this chart instance should
</span><span style="color:#75715e">	be placed in.
</span><span style="color:#75715e">	Interaction with a chart will only trigger events and redraws within the chart&#39;s group.
</span><span style="color:#75715e">	
</span><span style="color:#75715e">	Returns:
</span><span style="color:#75715e">	A newly created bullet chart instance
</span><span style="color:#75715e">	
</span><span style="color:#75715e">	```javascript
</span><span style="color:#75715e">	// create a bullet chart under #chart-container1 element using the default global chart group
</span><span style="color:#75715e">	var chart1 = dc.bulletChart(&#39;#chart-container1&#39;);
</span><span style="color:#75715e">	// create a bullet chart under #chart-container2 element using chart group A
</span><span style="color:#75715e">	var chart2 = dc.bulletChart(&#39;#chart-container2&#39;, &#39;chartGroupA&#39;);
</span><span style="color:#75715e">	```
</span><span style="color:#75715e">	
</span><span style="color:#75715e">	**/</span>
	<span style="color:#a6e22e">dc</span>.<span style="color:#a6e22e">bulletChart</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">parent</span>, <span style="color:#a6e22e">chartGroup</span>) {
	
		<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">_chart</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">dc</span>.<span style="color:#a6e22e">marginMixin</span>(<span style="color:#a6e22e">dc</span>.<span style="color:#a6e22e">colorMixin</span>(<span style="color:#a6e22e">dc</span>.<span style="color:#a6e22e">baseMixin</span>({}))));
	
		<span style="color:#75715e">//--- specifics ---
</span><span style="color:#75715e"></span>	
		<span style="color:#75715e">//-----------------
</span><span style="color:#75715e"></span>	
	 <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">_chart</span>.<span style="color:#a6e22e">anchor</span>(<span style="color:#a6e22e">parent</span>, <span style="color:#a6e22e">chartGroup</span>);
	};</code></pre></div>

<p>The rationale for the mixin used is:</p>

<ul>
<li>Base: you cannot really get away from it</li>
<li>Margin: useful to get proper spacing around</li>
<li>Color: allows for selecting the bullet colors</li>
</ul>

<p>The rendering for the new chart is to be coded in the <code>//--- specifics ---</code> part.</p>

<p>The source code (yes! It should be better documented, hence this post) of Base Mixin
specifies that <code>_doRender</code> and <code>_doRedraw</code> are the functions to be implemented in
the concrete charts.</p>

<h2 id="rendering-the-chart">Rendering the chart</h2>

<p>Luckily for bullet charts there are examples to get inspired from both for the
<a href="http://bl.ocks.org/mbostock/4061961" target="_blank">horizontal</a> and the
<a href="http://bl.ocks.org/jasondavies/5452290" target="_blank">vertical</a> layout.</p>

<p>The <code>_doRender</code> function is mimicking what done by
<a href="http://bost.ocks.org/mike/" target="_blank">Mike Bostock</a> in his horizontal layout with the
parametrization of the title <code>transform</code>.</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">_bulletMargin</span> <span style="color:#f92672">=</span> {<span style="color:#a6e22e">top</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">5</span>, <span style="color:#a6e22e">right</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">40</span>, <span style="color:#a6e22e">bottom</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">20</span>, <span style="color:#a6e22e">left</span><span style="color:#f92672">:</span><span style="color:#ae81ff">120</span>},
      <span style="color:#a6e22e">_bulletWidth</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">960</span> <span style="color:#f92672">-</span> <span style="color:#a6e22e">_bulletMargin</span>.<span style="color:#a6e22e">left</span> <span style="color:#f92672">-</span> <span style="color:#a6e22e">_bulletMargin</span>.<span style="color:#a6e22e">right</span>,
      <span style="color:#a6e22e">_bulletHeight</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">50</span> <span style="color:#f92672">-</span> <span style="color:#a6e22e">_bulletMargin</span>.<span style="color:#a6e22e">top</span>  <span style="color:#f92672">-</span> <span style="color:#a6e22e">_bulletMargin</span>.<span style="color:#a6e22e">bottom</span>,
      <span style="color:#a6e22e">_bulletOrient</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;left&#34;</span>,
      <span style="color:#a6e22e">_titleTranslate</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">titleTranslate</span>(<span style="color:#a6e22e">_bulletOrient</span>);


  <span style="color:#a6e22e">_chart</span>.<span style="color:#a6e22e">_doRender</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> () {
    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">_bullet</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">d3</span>.<span style="color:#a6e22e">bullet</span>()
      .<span style="color:#a6e22e">width</span>(<span style="color:#a6e22e">_bulletWidth</span>)
      .<span style="color:#a6e22e">height</span>(<span style="color:#a6e22e">_bulletHeight</span>)
      .<span style="color:#a6e22e">orient</span>(<span style="color:#a6e22e">_bulletOrient</span>);

    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">svg</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">_chart</span>.<span style="color:#a6e22e">root</span>().<span style="color:#a6e22e">selectAll</span>(<span style="color:#e6db74">&#34;svg&#34;</span>)
        .<span style="color:#a6e22e">data</span>(<span style="color:#a6e22e">_chart</span>.<span style="color:#a6e22e">data</span>())
      .<span style="color:#a6e22e">enter</span>().<span style="color:#a6e22e">append</span>(<span style="color:#e6db74">&#34;svg&#34;</span>)
        .<span style="color:#a6e22e">attr</span>(<span style="color:#e6db74">&#34;class&#34;</span>, <span style="color:#e6db74">&#34;bullet&#34;</span>)
        .<span style="color:#a6e22e">attr</span>(<span style="color:#e6db74">&#34;width&#34;</span>, <span style="color:#a6e22e">_bulletWidth</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">_bulletMargin</span>.<span style="color:#a6e22e">left</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">_bulletMargin</span>.<span style="color:#a6e22e">right</span>)
        .<span style="color:#a6e22e">attr</span>(<span style="color:#e6db74">&#34;height&#34;</span>, <span style="color:#a6e22e">_bulletHeight</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">_bulletMargin</span>.<span style="color:#a6e22e">top</span>  <span style="color:#f92672">+</span> <span style="color:#a6e22e">_bulletMargin</span>.<span style="color:#a6e22e">bottom</span>)
      .<span style="color:#a6e22e">append</span>(<span style="color:#e6db74">&#34;g&#34;</span>)
        .<span style="color:#a6e22e">attr</span>(<span style="color:#e6db74">&#34;transform&#34;</span>, <span style="color:#e6db74">&#34;translate(&#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">_bulletMargin</span>.<span style="color:#a6e22e">left</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;,&#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">_bulletMargin</span>.<span style="color:#a6e22e">top</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;)&#34;</span>)
        .<span style="color:#a6e22e">call</span>(<span style="color:#a6e22e">_bullet</span>);


    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">title</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">svg</span>.<span style="color:#a6e22e">append</span>(<span style="color:#e6db74">&#34;g&#34;</span>)
        .<span style="color:#a6e22e">style</span>(<span style="color:#e6db74">&#34;text-anchor&#34;</span>, <span style="color:#e6db74">&#34;end&#34;</span>)
        .<span style="color:#a6e22e">attr</span>(<span style="color:#e6db74">&#34;transform&#34;</span>, <span style="color:#e6db74">&#34;translate(&#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">_titleTranslate</span>[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;,&#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">_titleTranslate</span>[<span style="color:#ae81ff">1</span>] <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;)&#34;</span>);

    <span style="color:#a6e22e">title</span>.<span style="color:#a6e22e">append</span>(<span style="color:#e6db74">&#34;text&#34;</span>)
        .<span style="color:#a6e22e">attr</span>(<span style="color:#e6db74">&#34;class&#34;</span>, <span style="color:#e6db74">&#34;title&#34;</span>)
        .<span style="color:#a6e22e">text</span>(<span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">d</span>) {
          <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">d</span>.<span style="color:#a6e22e">title</span>;
        })

    <span style="color:#a6e22e">title</span>.<span style="color:#a6e22e">append</span>(<span style="color:#e6db74">&#34;text&#34;</span>)
        .<span style="color:#a6e22e">attr</span>(<span style="color:#e6db74">&#34;class&#34;</span>, <span style="color:#e6db74">&#34;subtitle&#34;</span>)
        .<span style="color:#a6e22e">attr</span>(<span style="color:#e6db74">&#34;dy&#34;</span>, <span style="color:#e6db74">&#34;1em&#34;</span>)
        .<span style="color:#a6e22e">text</span>(<span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">d</span>) {
          <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">d</span>.<span style="color:#a6e22e">subtitle</span>;
        })

    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">_chart</span>;
  };</code></pre></div>

<p>The proper positioning of the title is taken care by the <code>titleTranslate</code> function.
Titles will either be on the left of the bullet bar in the horizontal layout or
at the bottom in the vertical one.</p>

<h2 id="chart-options">Chart options</h2>

<p>The bullet chart can be customized in order to produce the desired graph via the
getter/setter methods described in the following sections.</p>

<p>These are quite low level customizations, see the <a href="#todo">To Do</a> section
for a better approach.</p>

<h3 id="bulletwidth">.bulletWidth</h3>

<p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#75715e">/**
</span><span style="color:#75715e">  #### .bulletWidth([value])
</span><span style="color:#75715e">  Set or get the bullet width.
</span><span style="color:#75715e">
</span><span style="color:#75715e">  **/</span>
  <span style="color:#a6e22e">_chart</span>.<span style="color:#a6e22e">bulletWidth</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">_</span>) {
      <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">arguments</span>.<span style="color:#a6e22e">length</span>) {
          <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">_bulletWidth</span>;
      }
      <span style="color:#a6e22e">_bulletWidth</span> <span style="color:#f92672">=</span> <span style="color:#f92672">+</span><span style="color:#a6e22e">_</span>;
      <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">_chart</span>;
  };</code></pre></div></p>

<h3 id="bulletheight">.bulletHeight</h3>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">  <span style="color:#75715e">/**
</span><span style="color:#75715e">  #### .bulletHeight([value])
</span><span style="color:#75715e">  Set or get the bullet height.
</span><span style="color:#75715e">
</span><span style="color:#75715e">  **/</span>
  <span style="color:#a6e22e">_chart</span>.<span style="color:#a6e22e">bulletHeight</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">_</span>) {
      <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">arguments</span>.<span style="color:#a6e22e">length</span>) {
          <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">_bulletHeight</span>;
      }
      <span style="color:#a6e22e">_bulletHeight</span> <span style="color:#f92672">=</span> <span style="color:#f92672">+</span><span style="color:#a6e22e">_</span>;
      <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">_chart</span>;
  };</code></pre></div>

<h3 id="bulletmargin">.bulletMargin</h3>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">  <span style="color:#75715e">/**
</span><span style="color:#75715e">  #### .bulletMargin([value])
</span><span style="color:#75715e">  Set or get the bullet margin, i.e. `{top: 5, right: 40, bottom: 50, left:120}`.
</span><span style="color:#75715e">
</span><span style="color:#75715e">  **/</span>
  <span style="color:#a6e22e">_chart</span>.<span style="color:#a6e22e">bulletMargin</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">_</span>) {
      <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">arguments</span>.<span style="color:#a6e22e">length</span>) {
          <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">_bulletMargin</span>;
      }
      <span style="color:#a6e22e">_bulletMargin</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">_</span>;
      <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">_chart</span>;
  };</code></pre></div>

<h3 id="orient">.orient</h3>

<p>This method defines the starting point for the bullet.</p>

<p>Note that it influences where the title/subtitle will be positioned:
the current implementation of <code>bullet.js</code> allows for title to either be
on the left or at the bottom in the horizontal and vertical layout respectively.</p>

<p>The internal function <code>titleTranslate</code> sets sensible values for the title
position.</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">  <span style="color:#75715e">/**
</span><span style="color:#75715e">  #### .orient([value])
</span><span style="color:#75715e">  Set or get the bullet orientation (one of `&#34;left&#34;`, `&#34;right&#34;`, `&#34;top&#34;` or `&#34;bottom&#34;`).
</span><span style="color:#75715e">
</span><span style="color:#75715e">  **/</span>
  <span style="color:#a6e22e">_chart</span>.<span style="color:#a6e22e">orient</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">_</span>) {
      <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">arguments</span>.<span style="color:#a6e22e">length</span>) {
          <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">_bulletOrient</span>;
      }
      <span style="color:#a6e22e">_bulletOrient</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">_</span>;
      <span style="color:#a6e22e">_titleTranslate</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">titleTranslate</span>(<span style="color:#a6e22e">_bulletOrient</span>);
      <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">_chart</span>;
  };</code></pre></div>

<h3 id="titletranslate-internal">titleTranslate (internal)</h3>

<p>This internal function sets the right parameters for the positioning of
the title/subtitle for the vertical and horizontal layout.</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">  <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">titleTranslate</span>(<span style="color:#a6e22e">orient</span>) {
    <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">arguments</span>.<span style="color:#a6e22e">length</span>) {
      <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">_titleTranslate</span>;
    }
    
    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">_bulletOrient</span> <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;left&#34;</span> <span style="color:#f92672">||</span> <span style="color:#a6e22e">_bulletOrient</span> <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;right&#34;</span>) {
      <span style="color:#66d9ef">return</span> [<span style="color:#f92672">-</span><span style="color:#ae81ff">6</span>, <span style="color:#a6e22e">_bulletHeight</span> <span style="color:#960050;background-color:#1e0010">/ 2];</span>
    }
    <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">_bulletOrient</span> <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;bottom&#34;</span> <span style="color:#f92672">||</span> <span style="color:#a6e22e">_bulletOrient</span> <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;top&#34;</span>) {
      <span style="color:#66d9ef">return</span> [<span style="color:#a6e22e">_bulletWidth</span>, <span style="color:#a6e22e">_bulletHeight</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">20</span>]
    }

    <span style="color:#66d9ef">return</span> [<span style="color:#f92672">-</span><span style="color:#ae81ff">6</span>, <span style="color:#a6e22e">_bulletHeight</span> <span style="color:#960050;background-color:#1e0010">/ 2];</span>
  }</code></pre></div>

<h2 id="example">Example</h2>

<p>The <code>bullet.html</code> file is structured pretty much the same as the other examples:</p>

<ul>
<li>the head part,</li>
<li>the libraries,</li>
<li>the style part</li>
<li>the <code>&lt;div&gt;</code>&rsquo;s for the charts</li>
<li>the code for the chart instantiation and rendering</li>
</ul>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html"><span style="color:#75715e">&lt;!DOCTYPE html&gt;</span>
&lt;<span style="color:#f92672">html</span> <span style="color:#a6e22e">lang</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;en&#34;</span>&gt;
&lt;<span style="color:#f92672">head</span>&gt;
&lt;<span style="color:#f92672">title</span>&gt;dc.js - Bullet Chart Example&lt;/<span style="color:#f92672">title</span>&gt;
	&lt;<span style="color:#f92672">meta</span> <span style="color:#a6e22e">charset</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;UTF-8&#34;</span>&gt;
	&lt;<span style="color:#f92672">link</span> <span style="color:#a6e22e">rel</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;stylesheet&#34;</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;text/css&#34;</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;../css/dc.css&#34;</span>/&gt;
&lt;/<span style="color:#f92672">head</span>&gt;
&lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;text/javascript&#34;</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;../js/d3.js&#34;</span>&gt;&lt;/<span style="color:#f92672">script</span>&gt;
&lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;text/javascript&#34;</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;../js/crossfilter.js&#34;</span>&gt;&lt;/<span style="color:#f92672">script</span>&gt;
&lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;text/javascript&#34;</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;../js/dc.js&#34;</span>&gt;&lt;/<span style="color:#f92672">script</span>&gt;

&lt;<span style="color:#f92672">style</span>&gt;
  <span style="color:#75715e">/* see &#34;A Matter of Style&#34; section */</span>
&lt;/<span style="color:#f92672">style</span>&gt;


&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;test-horizontal&#34;</span>&gt;&lt;/<span style="color:#f92672">div</span>&gt;
&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;test-vertical&#34;</span>&gt;&lt;/<span style="color:#f92672">div</span>&gt;

&lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;text/javascript&#34;</span>&gt;
  <span style="color:#75715e">// see &#34;The Two Layouts&#34; section
</span><span style="color:#75715e"></span>&lt;/<span style="color:#f92672">script</span>&gt;
&lt;/<span style="color:#f92672">html</span>&gt;</code></pre></div>

<h3 id="the-two-layouts">The Two Layouts</h3>

<p>The example mimics charts in the gists from Mike Bostock and Jason Davies.</p>

<p>There is the usual binding to the <code>&lt;div&gt;</code>&rsquo;s, the crossfilter bits and the
chart definition and rendering.</p>

<p>Note the trick about how <code>statusGroup</code> has been defined in order to comply
with <code>dc.js</code> way to pass the data to the underlying <code>d3.js</code>: this is based
on the knowledge that the default implementation of <code>.data()</code> is returning
<code>group.all()</code>.</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">chart1</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">dc</span>.<span style="color:#a6e22e">bulletChart</span>(<span style="color:#e6db74">&#34;#test-horizontal&#34;</span>);
<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">chart2</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">dc</span>.<span style="color:#a6e22e">bulletChart</span>(<span style="color:#e6db74">&#34;#test-vertical&#34;</span>);

<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">data</span> <span style="color:#f92672">=</span> [
  {<span style="color:#e6db74">&#34;title&#34;</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#34;Revenue&#34;</span>,<span style="color:#e6db74">&#34;subtitle&#34;</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#34;US$, in thousands&#34;</span>,<span style="color:#e6db74">&#34;ranges&#34;</span><span style="color:#f92672">:</span>[<span style="color:#ae81ff">150</span>,<span style="color:#ae81ff">225</span>,<span style="color:#ae81ff">300</span>],<span style="color:#e6db74">&#34;measures&#34;</span><span style="color:#f92672">:</span>[<span style="color:#ae81ff">220</span>,<span style="color:#ae81ff">270</span>],<span style="color:#e6db74">&#34;markers&#34;</span><span style="color:#f92672">:</span>[<span style="color:#ae81ff">250</span>]},
  {<span style="color:#e6db74">&#34;title&#34;</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#34;Profit&#34;</span>,<span style="color:#e6db74">&#34;subtitle&#34;</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#34;%&#34;</span>,<span style="color:#e6db74">&#34;ranges&#34;</span><span style="color:#f92672">:</span>[<span style="color:#ae81ff">20</span>,<span style="color:#ae81ff">25</span>,<span style="color:#ae81ff">30</span>],<span style="color:#e6db74">&#34;measures&#34;</span><span style="color:#f92672">:</span>[<span style="color:#ae81ff">21</span>,<span style="color:#ae81ff">23</span>],<span style="color:#e6db74">&#34;markers&#34;</span><span style="color:#f92672">:</span>[<span style="color:#ae81ff">26</span>]},
  {<span style="color:#e6db74">&#34;title&#34;</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#34;Order Size&#34;</span>,<span style="color:#e6db74">&#34;subtitle&#34;</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#34;US$, average&#34;</span>,<span style="color:#e6db74">&#34;ranges&#34;</span><span style="color:#f92672">:</span>[<span style="color:#ae81ff">350</span>,<span style="color:#ae81ff">500</span>,<span style="color:#ae81ff">600</span>],<span style="color:#e6db74">&#34;measures&#34;</span><span style="color:#f92672">:</span>[<span style="color:#ae81ff">100</span>,<span style="color:#ae81ff">320</span>],<span style="color:#e6db74">&#34;markers&#34;</span><span style="color:#f92672">:</span>[<span style="color:#ae81ff">550</span>]},
  {<span style="color:#e6db74">&#34;title&#34;</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#34;New Customers&#34;</span>,<span style="color:#e6db74">&#34;subtitle&#34;</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#34;count&#34;</span>,<span style="color:#e6db74">&#34;ranges&#34;</span><span style="color:#f92672">:</span>[<span style="color:#ae81ff">1400</span>,<span style="color:#ae81ff">2000</span>,<span style="color:#ae81ff">2500</span>],<span style="color:#e6db74">&#34;measures&#34;</span><span style="color:#f92672">:</span>[<span style="color:#ae81ff">1000</span>,<span style="color:#ae81ff">1650</span>],<span style="color:#e6db74">&#34;markers&#34;</span><span style="color:#f92672">:</span>[<span style="color:#ae81ff">2100</span>]},
  {<span style="color:#e6db74">&#34;title&#34;</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#34;Satisfaction&#34;</span>,<span style="color:#e6db74">&#34;subtitle&#34;</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#34;out of 5&#34;</span>,<span style="color:#e6db74">&#34;ranges&#34;</span><span style="color:#f92672">:</span>[<span style="color:#ae81ff">3.5</span>,<span style="color:#ae81ff">4.25</span>,<span style="color:#ae81ff">5</span>],<span style="color:#e6db74">&#34;measures&#34;</span><span style="color:#f92672">:</span>[<span style="color:#ae81ff">3.2</span>,<span style="color:#ae81ff">4.7</span>],<span style="color:#e6db74">&#34;markers&#34;</span><span style="color:#f92672">:</span>[<span style="color:#ae81ff">4.4</span>]}
];

<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">ndx</span>        <span style="color:#f92672">=</span> <span style="color:#a6e22e">crossfilter</span>(<span style="color:#a6e22e">data</span>),
    <span style="color:#a6e22e">titleDimension</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">ndx</span>.<span style="color:#a6e22e">dimension</span>(<span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">d</span>) {<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">d</span>.<span style="color:#a6e22e">title</span>;}),
    <span style="color:#a6e22e">statusGroup</span>    <span style="color:#f92672">=</span> {
      <span style="color:#a6e22e">all</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">function</span>(){
        <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">data</span>;
    }};

<span style="color:#75715e">// dims from Mike Bostock&#39;s bl.ock, http://bl.ocks.org/mbostock/4061961
</span><span style="color:#75715e"></span><span style="color:#a6e22e">chart1</span>
  .<span style="color:#a6e22e">width</span>(<span style="color:#ae81ff">960</span>)
  .<span style="color:#a6e22e">height</span>(<span style="color:#ae81ff">450</span>)
  .<span style="color:#a6e22e">bulletMargin</span>({<span style="color:#a6e22e">top</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">5</span>, <span style="color:#a6e22e">right</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">40</span>, <span style="color:#a6e22e">bottom</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">20</span>, <span style="color:#a6e22e">left</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">120</span>})
  .<span style="color:#a6e22e">bulletWidth</span>(<span style="color:#ae81ff">960</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">120</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">40</span>)
  .<span style="color:#a6e22e">bulletHeight</span>(<span style="color:#ae81ff">50</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">5</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">20</span>)
  .<span style="color:#a6e22e">orient</span>(<span style="color:#e6db74">&#34;left&#34;</span>)
  .<span style="color:#a6e22e">dimension</span>(<span style="color:#a6e22e">titleDimension</span>)
  .<span style="color:#a6e22e">group</span>(<span style="color:#a6e22e">statusGroup</span>);

<span style="color:#a6e22e">chart1</span>.<span style="color:#a6e22e">render</span>();

<span style="color:#75715e">// dims from Jason Davies&#39;s bl.ock, http://bl.ocks.org/jasondavies/5452290
</span><span style="color:#75715e"></span><span style="color:#a6e22e">chart2</span>
  .<span style="color:#a6e22e">width</span>(<span style="color:#ae81ff">185</span>)
  .<span style="color:#a6e22e">height</span>(<span style="color:#ae81ff">450</span>)
  .<span style="color:#a6e22e">bulletMargin</span>({<span style="color:#a6e22e">top</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">5</span>, <span style="color:#a6e22e">right</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">40</span>, <span style="color:#a6e22e">bottom</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">50</span>, <span style="color:#a6e22e">left</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">120</span>})
  .<span style="color:#a6e22e">bulletWidth</span>(<span style="color:#ae81ff">185</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">120</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">40</span>)
  .<span style="color:#a6e22e">bulletHeight</span>(<span style="color:#ae81ff">450</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">5</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">50</span>)
  .<span style="color:#a6e22e">orient</span>(<span style="color:#e6db74">&#34;top&#34;</span>)
  .<span style="color:#a6e22e">dimension</span>(<span style="color:#a6e22e">titleDimension</span>)
  .<span style="color:#a6e22e">group</span>(<span style="color:#a6e22e">statusGroup</span>);

<span style="color:#a6e22e">chart2</span>.<span style="color:#a6e22e">render</span>();</code></pre></div>

<h3 id="a-matter-of-style">A Matter of Style</h3>

<p>In the best tradition of the web, everything in the chart can be customized
via CSS</p>

<p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-css" data-lang="css"><span style="color:#f92672">body</span> {
  <span style="color:#66d9ef">font-family</span>: <span style="color:#e6db74">&#34;Helvetica Neue&#34;</span>, Helvetica, Arial, <span style="color:#66d9ef">sans-serif</span>;
  <span style="color:#66d9ef">margin</span>: <span style="color:#66d9ef">auto</span>;
  <span style="color:#66d9ef">padding-top</span>: <span style="color:#ae81ff">40</span><span style="color:#66d9ef">px</span>;
  <span style="color:#66d9ef">position</span>: <span style="color:#66d9ef">relative</span>;
  <span style="color:#66d9ef">width</span>: <span style="color:#ae81ff">960</span><span style="color:#66d9ef">px</span>;
}

<span style="color:#f92672">button</span> {
  <span style="color:#66d9ef">position</span>: <span style="color:#66d9ef">absolute</span>;
  <span style="color:#66d9ef">right</span>: <span style="color:#ae81ff">10</span><span style="color:#66d9ef">px</span>;
  <span style="color:#66d9ef">top</span>: <span style="color:#ae81ff">10</span><span style="color:#66d9ef">px</span>;
}

.<span style="color:#a6e22e">bullet</span> { <span style="color:#66d9ef">font</span>: <span style="color:#ae81ff">10</span><span style="color:#66d9ef">px</span> <span style="color:#66d9ef">sans-serif</span>; }
.<span style="color:#a6e22e">bullet</span> .<span style="color:#a6e22e">marker</span> { stroke: <span style="color:#ae81ff">#000</span>; stroke-width: <span style="color:#ae81ff">2</span><span style="color:#66d9ef">px</span>; }
.<span style="color:#a6e22e">bullet</span> .<span style="color:#a6e22e">tick</span> <span style="color:#f92672">line</span> { stroke: <span style="color:#ae81ff">#666</span>; stroke-width: <span style="color:#ae81ff">.5</span><span style="color:#66d9ef">px</span>;}
.<span style="color:#a6e22e">bullet</span> .<span style="color:#a6e22e">range</span>.<span style="color:#a6e22e">s0</span> { fill: <span style="color:#ae81ff">#eee</span>; }
.<span style="color:#a6e22e">bullet</span> .<span style="color:#a6e22e">range</span>.<span style="color:#a6e22e">s1</span> { fill: <span style="color:#ae81ff">#ddd</span>; }
.<span style="color:#a6e22e">bullet</span> .<span style="color:#a6e22e">range</span>.<span style="color:#a6e22e">s2</span> { fill: <span style="color:#ae81ff">#ccc</span>; }
.<span style="color:#a6e22e">bullet</span> .<span style="color:#a6e22e">measure</span>.<span style="color:#a6e22e">s0</span> { fill: <span style="color:#66d9ef">lightsteelblue</span>; }
.<span style="color:#a6e22e">bullet</span> .<span style="color:#a6e22e">measure</span>.<span style="color:#a6e22e">s1</span> { fill: <span style="color:#66d9ef">steelblue</span>; }
.<span style="color:#a6e22e">bullet</span> .<span style="color:#a6e22e">title</span> { <span style="color:#66d9ef">font-size</span>: <span style="color:#ae81ff">14</span><span style="color:#66d9ef">px</span>; <span style="color:#66d9ef">font-weight</span>: <span style="color:#66d9ef">bold</span>; }
.<span style="color:#a6e22e">bullet</span> .<span style="color:#a6e22e">subtitle</span> { fill: <span style="color:#ae81ff">#999</span>; }

.<span style="color:#a6e22e">bullet</span> .<span style="color:#a6e22e">axis</span> <span style="color:#f92672">line</span><span style="color:#f92672">,</span> .<span style="color:#a6e22e">bullet</span> .<span style="color:#a6e22e">axis</span> <span style="color:#f92672">path</span> { <span style="color:#66d9ef">opacity</span>: <span style="color:#ae81ff">0.5</span>; }
<span style="color:#f92672">&lt;/</span><span style="color:#f92672">style</span><span style="color:#f92672">&gt;</span></code></pre></div></p>

<h2 id="a-name-todo-a-to-do"><a name="todo"></a> To Do</h2>

<p>The current implementation lacks few feature and refinements.</p>

<h3 id="tests">Tests</h3>

<p>I am studying the existing ones and will add them!</p>

<h3 id="automatic-layout">Automatic Layout</h3>

<p>From a user perspective I would like to just say:</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">  <span style="color:#a6e22e">chart</span>
    .<span style="color:#a6e22e">width</span>(<span style="color:#ae81ff">960</span>)
    .<span style="color:#a6e22e">height</span>(<span style="color:#ae81ff">450</span>)
    .<span style="color:#a6e22e">orient</span>(<span style="color:#e6db74">&#34;left&#34;</span>)
    .<span style="color:#a6e22e">dimension</span>(<span style="color:#a6e22e">titleDimension</span>)
    .<span style="color:#a6e22e">group</span>(<span style="color:#a6e22e">statusGroup</span>);</code></pre></div>

<p>and have sensible width/height/margins being calculated by the
internals of the implementation, with the above methods available
for fine-tuning.</p>

<h3 id="colors-selection">Colors selection</h3>

<p>Even if I made <code>bulletChart</code> include the
<a href="https://github.com/dc-js/dc.js/blob/master/web/docs/api-latest.md#color-mixin" target="_blank">Color Mixin</a>,
I haven&rsquo;t really tackled colors customization.</p>

<p>With code like the following</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">  <span style="color:#a6e22e">chart</span>
    .<span style="color:#a6e22e">width</span>(<span style="color:#ae81ff">960</span>)
    .<span style="color:#a6e22e">height</span>(<span style="color:#ae81ff">450</span>)
    .<span style="color:#a6e22e">orient</span>(<span style="color:#e6db74">&#34;left&#34;</span>)
    .<span style="color:#a6e22e">dimension</span>(<span style="color:#a6e22e">titleDimension</span>)
    .<span style="color:#a6e22e">group</span>(<span style="color:#a6e22e">statusGroup</span>)
    .<span style="color:#a6e22e">colors</span>(<span style="color:#a6e22e">d3</span>.<span style="color:#a6e22e">scale</span>.<span style="color:#a6e22e">ordinal</span>().<span style="color:#a6e22e">range</span>([<span style="color:#e6db74">&#39;red&#39;</span>,<span style="color:#e6db74">&#39;green&#39;</span>,<span style="color:#e6db74">&#39;blue&#39;</span>]));</code></pre></div>

<p>you would be able to define the three colors for the <code>bad</code>,
<code>satisfactory</code> and <code>good</code> ranges.</p>

<h3 id="chart-margins">Chart Margins</h3>

<p>Even if included, the <a href="https://github.com/dc-js/dc.js/blob/master/web/docs/api-latest.md#margin-mixin" target="_blank">Margin Mixin</a>
hasn&rsquo;t been handled.</p>

<p>These will be the margins for the whole chart, not the ones for
the bullets as described above.</p>

<style>
iframe {
  width: 660px;
  height: 500px;
  border: 1px solid #DEDEDE;
}

aside {
  font-size: small;
  left: 780px;
  position: absolute;
  text-align: right;
  width: 180px;
  color: #636363;
}
 aside a {
    text-decoration: underline;
 }
</style>

    </div>
  </div>

</article>

<div class="container">
  <nav>
  <ul class="pager">
    
    <li class="previous"><a href="/2015/02/07/html-scraping/"><span
      aria-hidden="true">&larr;</span> HTML Scraping or Surviving Orrible Corporate Tools</a></li>
    

    
    <li class="next"><a href="/2015/08/08/learning-reactive-vega/">Learning Vega 2.0 a.k.a. Reactive Vega <span
      aria-hidden="true">&rarr;</span></a></li>
    
  </ul>
</nav>

</div>

<div class="article-container">
  
<section id="comments">
  <div id="disqus_thread">
    <div id="disqus_thread"></div>
<script>
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "enricospinielli" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
  </div>
</section>


</div>

<footer class="site-footer">
  <div class="container">
    <p class="powered-by">

      &copy; 2018 Enrico Spinielli &middot; 

      Powered by the <a href="https://github.com/gcushen/hugo-academic" target="_blank">Academic
      theme</a> for <a href="http://gohugo.io" target="_blank">Hugo</a>.

      <span class="pull-right" aria-hidden="true">
        <a href="#" id="back_to_top">
          <span class="button_icon">
            <i class="fa fa-chevron-up fa-2x"></i>
          </span>
        </a>
      </span>

    </p>
  </div>
</footer>

    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.min.js" integrity="sha512-jGsMH83oKe9asCpkOVkBnUrDDTp8wl+adkB2D+//JtlxO4SrLoJdhbOysIFQJloQFD+C4Fl1rMsQZF76JjV0eQ==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.2/imagesloaded.pkgd.min.js" integrity="sha512-iHzEu7GbSc705hE2skyH6/AlTpOfBmkx7nUqTLGzPYR+C1tRaItbRlJ7hT/D3YQ9SV0fqLKzp4XY9wKulTBGTw==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.19.1/TweenMax.min.js" integrity="sha512-Z5heTz36xTemt1TbtbfXtTq5lMfYnOkXM2/eWcTTiLU01+Sw4ku1i7vScDc8fWhrP2abz9GQzgKH5NGBLoYlAw==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.19.1/plugins/ScrollToPlugin.min.js" integrity="sha512-CDeU7pRtkPX6XJtF/gcFWlEwyaX7mcAp5sO3VIu/ylsdR74wEw4wmBpD5yYTrmMAiAboi9thyBUr1vXRPA7t0Q==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha512-iztkobsvnjKfAtTNdHkGVjAYTrrtlC7mGp/54c40wowO7LhURYl3gVzzcEqGl/qKXQltJ2HwMrdLcNUdo+N/RQ==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.4/isotope.pkgd.min.js" integrity="sha512-VDBOIlDbuC4VWxGJNmuFRQ0Li0SKkDpmGyuhAG5LTDLd/dJ/S0WMVxriR2Y+CyPL5gzjpN4f/6iqWVBJlht0tQ==" crossorigin="anonymous"></script>
    
    <script src="/js/hugo-academic.js"></script>
    

    
    
      
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js"></script>

      

      

      <script>hljs.initHighlightingOnLoad();</script>
    

    
    

  </body>
</html>

